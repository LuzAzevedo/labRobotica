\documentclass[preview,border=2pt]{standalone}
\usepackage{listings}
\usepackage{xcolor}

\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}
\lstdefinestyle{pythonstyle}{
    language=Python,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue}\bfseries,
    stringstyle=\color{red},
    commentstyle=\color{darkgreen}\itshape,
    frame=single,
    framerule=0.5pt,
    breaklines=true,
    breakatwhitespace=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    keepspaces=true,
    columns=fullflexible,
    upquote=true,
    extendedchars=true,
    inputencoding=utf8
}

\begin{document}
\begin{lstlisting}[style=pythonstyle]
import rclpy
from rclpy.node import Node
from example_interfaces.srv import AddTwoInts

class AddTwoIntsClient(Node):
    def __init__(self):
        super().__init__('add_two_ints_client')
        self.cli = self.create_client(AddTwoInts, 'add_two_ints')
        self.req = AddTwoInts.Request()

    def send_request(self, a: int, b: int):
        while not self.cli.wait_for_service(timeout_sec=1.0):
            self.get_logger().info('Aguardando servi√ßo...')
        self.req.a, self.req.b = a, b
        future = self.cli.call_async(self.req)
        rclpy.spin_until_future_complete(self, future)
        return future.result()

def main(a=2, b=3):
    rclpy.init()
    node = AddTwoIntsClient()
    resp = node.send_request(a, b)
    node.get_logger().info(f"Resposta: sum={resp.sum}")
    node.destroy_node()
    rclpy.shutdown()
\end{lstlisting}
\end{document}

